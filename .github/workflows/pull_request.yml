name: 'Pull Request'

on:
  pull_request:
    branches: [ develop, staging, master ]

env:
  color_var: ff69b4

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Get Pull Request URL
        id: pr-url
        uses: ammaratef45/pr-url-action@v1


  build:
      name: Checkout and notify
      if: ${{always()}}
      runs-on: ubuntu-latest
      steps:
        - name: Checkout Code
          uses: actions/checkout@v1
        - uses: freezer00/teams-webhook-action@v1.0.0
          with:
            webhook_url: https://uic365.webhook.office.com/webhookb2/e2758c1c-477f-4de7-b1bd-c8f35fe1d105@e202cd47-7a56-4baa-99e3-e3b71a7c77dd/IncomingWebhook/ef5cd950674649228b1ae1c203a82a2a/68f631fe-fabd-412d-b045-29ece196782a
            needs: ${{ toJson(needs) }}
            job: ${{ toJson(job) }}
            title: TITLe goes here
            additional_button_title: |-
              View PR
              View Project
            additional_button_url: |-
              '${{ steps.pr-url.outputs.url }}'
              https://github.com/orgs/uic-ts/projects/1
            dry_run: false






