name: 'Pull Request'

on:
  pull_request:
    branches: [ develop, staging, master ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - uses: neonidian/teams-notify-build-status@v3
        with:
          webhookUrl: |                                         # Send to multiple channels in MS Teams
            ${{ secrets.TEAMS_INCOMING_WEBHOOK_URL_1 }}
          title: 'NULL'                                    # Specify a title header
          titleBackgroundColor: ${{ steps.unitTest.outcome }}    # Specify title background color. 'unitTest' is the ID of a step
          status: ${{ steps.unitTest.outcome }}                  # Specify what should be displayed in the status label
          message: >-
            ' ${{ steps.versioning.outputs.semver }}'
        env:                                                     # Enable actor labels and buttons using environment variables
          SHOULD_DISPLAY_ACTOR_LABEL: true
          SHOULD_DISPLAY_VIEW_RUN_BUTTON: true
          SHOULD_DISPLAY_VIEW_COMMIT_BUTTON: true