name: 'Pull Request'

on:
  pull_request:
    branches: [ develop ]
    types: [opened, reopened, closed]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:

      - name: Color variable conditions
        run: |
          if [[ "${{ github.event.pull_request.state }}" == "open" ]]; then
            echo "STATUS_COLOR=019128" >> $GITHUB_ENV
            echo "GREEN"
          fi
          if [[ "${{ github.event.pull_request.state }}" == "closed" && "${{ github.event.pull_request.merged }}" == false ]]; then
            echo "STATUS_COLOR=ad020a" >> $GITHUB_ENV
            echo "RED"
          fi
          if [[ "${{ github.event.pull_request.merged }}" == "true" ]]; then
            echo "STATUS_COLOR=5a00ba" >> $GITHUB_ENV
            echo "PURPLE"
          fi
